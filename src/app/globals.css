/* stylelint-disable unknownAtRules */
@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: Arial, Helvetica, sans-serif;
}

@layer base {
  :root {
    --background: 40 60% 89%;
    --foreground: 23 20% 24%;
    --card: 40 60% 85%;
    --card-foreground: 23 20% 24%;
    --popover: 40 60% 85%;
    --popover-foreground: 23 20% 24%;
    --primary: 23 20% 24%;
    --primary-foreground: 40 60% 95%;
    --secondary: 40 20% 80%;
    --secondary-foreground: 23 20% 24%;
    --muted: 40 20% 80%;
    --muted-foreground: 23 20% 40%;
    --accent: 34 49% 56%;
    --accent-foreground: 23 20% 15%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 40 20% 75%;
    --input: 40 60% 92%;
    --ring: 34 49% 56%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
  }
  .dark {
    --background: 23 20% 10%;
    --foreground: 40 60% 89%;
    --card: 23 20% 12%;
    --card-foreground: 40 60% 89%;
    --popover: 23 20% 10%;
    --popover-foreground: 40 60% 89%;
    --primary: 40 60% 89%;
    --primary-foreground: 23 20% 10%;
    --secondary: 23 20% 20%;
    --secondary-foreground: 40 60% 89%;
    --muted: 23 20% 20%;
    --muted-foreground: 40 60% 70%;
    --accent: 34 49% 56%;
    --accent-foreground: 23 20% 10%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 23 20% 25%;
    --input: 23 20% 25%;
    --ring: 34 49% 56%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .hide-scrollbar {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  /* Simple jump animation used for player avatar when moving */
  @keyframes jump {
    0% { transform: translateY(0); }
    30% { transform: translateY(-12px); }
    100% { transform: translateY(0); }
  }
  .animate-jump {
    animation-name: jump;
    animation-duration: 600ms;
    animation-timing-function: cubic-bezier(.22,.9,.33,1);
    animation-fill-mode: both;
  }
  /* Player overlay flight/bounce styling */
  .player-overlay {
    position: absolute;
    will-change: transform, left, top;
    display: flex;
    align-items: center;
    justify-content: center;
    transition-property: transform, opacity;
    transition-timing-function: cubic-bezier(.22,.9,.33,1);
    /* duration will be set inline via style="--fly-duration: 500ms" */
    transition-duration: var(--fly-duration, 500ms);
    pointer-events: none;
    z-index: 40;
  }
  .player-overlay.bounce {
    /* Very short bounce after landing to avoid pre-flight popping; keep subtle */
    animation: player-bounce 50ms cubic-bezier(.22,.9,.34,1) 1;
  }
  @keyframes player-bounce {
    0% { transform: translateY(0); }
    40% { transform: translateY(-4px); }
    100% { transform: translateY(0); }
  }
  /* Flight arc for moving between tiles */
  @keyframes flight-arc {
    0% { transform: translateY(0); }
    45% { transform: translateY(-20px); }
    100% { transform: translateY(0); }
  }
  .player-flying .player-arc {
    animation-name: flight-arc;
    animation-duration: var(--fly-duration, 500ms);
    animation-timing-function: cubic-bezier(.22,.9,.33,1);
    animation-fill-mode: both;
  }
  /* Initial lift phase (vertical only) */
  .player-lift {
    transform: translateY(var(--lift-y, -18px));
    transition: transform var(--lift-duration, 150ms) cubic-bezier(.22,.9,.33,1);
  }

  /* Fade-in for newly explored tiles during animation */
  .fade-explored {
    transition: opacity 400ms ease-in-out, filter 400ms ease-in-out, transform 400ms ease-in-out;
    opacity: 0;
    transform: scale(0.98);
  }
  .fade-explored.show {
    opacity: 1;
    filter: none;
    transform: scale(1);
  }
  /* Pan animation: when recenter completes after landing make the map
     shift from a small offset back to its final position so the recenter
     feels more like a camera pan. Uses CSS variable --pan-x/--pan-y. */
  @keyframes map-pan-in {
    from { transform: translate(var(--pan-x, 0px), var(--pan-y, 0px)); }
    to { transform: translate(0, 0); }
  }
  .map-pan-anim {
    /* Use same easing as flight arc for perceptual match and smoother camera motion */
    animation: map-pan-in var(--map-pan-duration, 700ms) cubic-bezier(.22,.9,.33,1) both;
  }
}
