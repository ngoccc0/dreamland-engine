# Dreamland Engine - K√Ω S·ª± L√£ng Du

Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi **Dreamland Engine**, m·ªôt game phi√™u l∆∞u text-based ƒë∆∞·ª£c ki·∫øn t·∫°o b·ªüi tr√≠ tu·ªá nh√¢n t·∫°o. T·∫°i ƒë√¢y, m·ªói quy·∫øt ƒë·ªãnh, m·ªói h√†nh ƒë·ªông c·ªßa b·∫°n kh√¥ng ch·ªâ ƒë·ªãnh h√¨nh n√™n nh√¢n v·∫≠t m√† c√≤n c·∫£ m·ªôt th·∫ø gi·ªõi s·ªëng ƒë·ªông, lu√¥n bi·∫øn ƒë·ªïi v√† ƒë·∫ßy b·∫•t ng·ªù.

## ‚ú® T√≠nh NƒÉng N·ªïi B·∫≠t

- **Ng∆∞·ªùi K·ªÉ Chuy·ªán AI & Ch·∫ø ƒê·ªô Offline:** L·ª±a ch·ªçn gi·ªØa m·ªôt AI k·ªÉ chuy·ªán s√°ng t·∫°o ho·∫∑c m·ªôt ch·∫ø ƒë·ªô offline d·ª±a tr√™n quy t·∫Øc.
- **Ki·∫øn T·∫°o Th·∫ø Gi·ªõi ƒêa T√°c Nh√¢n:** M·ªôt ƒë·ªôi ng≈© "chuy√™n gia" AI c√πng nhau t·∫°o ra th·∫ø gi·ªõi ƒë·ªôc ƒë√°o cho b·∫°n.
- **Th·∫ø Gi·ªõi S·ªëng:** H·ªá sinh th√°i, th·ªùi ti·∫øt, v√† t√†i nguy√™n lu√¥n bi·∫øn ƒë·ªïi.
- **H·ªá Th·ªëng Sinh T·ªìn & Ch·∫ø T·∫°o S√¢u S·∫Øc:** Qu·∫£n l√Ω ch·ªâ s·ªë, th√¢n nhi·ªát, ch·∫ø t·∫°o c√¥ng c·ª•, x√¢y d·ª±ng n∆°i tr√∫ ·∫©n v√† th·ª≠ nghi·ªám h·ª£p nh·∫•t v·∫≠t ph·∫©m.
- **H·ªá Th·ªëng Mod Linh Ho·∫°t:** D·ªÖ d√†ng th√™m n·ªôi dung m·ªõi v√†o game th√¥ng qua c√°c g√≥i mod d·∫°ng JSON.

---

## üéÆ C√°ch Ch∆°i

1.  **T·∫°o th·∫ø gi·ªõi:** M√¥ t·∫£ √Ω t∆∞·ªüng c·ªßa b·∫°n ho·∫∑c ch·ªçn m·ªôt k·ªãch b·∫£n c√≥ s·∫µn.
2.  **L·ª±a ch·ªçn & K·∫øt h·ª£p:** Tr·ªôn l·∫´n c√°c y·∫øu t·ªë b·∫°n th√≠ch t·ª´ c√°c phi√™n b·∫£n AI ƒë·ªÅ xu·∫•t ƒë·ªÉ t·∫°o ra th·∫ø gi·ªõi cu·ªëi c√πng.
3.  **Kh√°m ph√°:** S·ª≠ d·ª•ng c√°c n√∫t m≈©i t√™n ho·∫∑c ph√≠m `W,A,S,D` ƒë·ªÉ di chuy·ªÉn.
4.  **T∆∞∆°ng t√°c:** S·ª≠ d·ª•ng c√°c n√∫t h√†nh ƒë·ªông theo ng·ªØ c·∫£nh ho·∫∑c nh·∫≠p b·∫•t k·ª≥ h√†nh ƒë·ªông n√†o b·∫°n mu·ªën v√†o √¥ vƒÉn b·∫£n. H√£y s√°ng t·∫°o! AI s·∫Ω di·ªÖn gi·∫£i v√† ph·∫£n h·ªìi l·∫°i.
5.  **Sinh t·ªìn:** ƒê·ªÉ m·∫Øt ƒë·∫øn c√°c ch·ªâ s·ªë, ch·∫ø t·∫°o c√¥ng c·ª•, x√¢y d·ª±ng n∆°i tr√∫ ·∫©n v√† chi·∫øn ƒë·∫•u ƒë·ªÉ t·ªìn t·∫°i.

---

## üõ†Ô∏è H∆∞·ªõng D·∫´n Modding (C∆° b·∫£n)

Dreamland Engine ƒë∆∞·ª£c thi·∫øt k·∫ø v·ªõi kh·∫£ nƒÉng t√πy bi·∫øn cao. B·∫°n c√≥ th·ªÉ d·ªÖ d√†ng th√™m v·∫≠t ph·∫©m, c√¥ng th·ª©c, v√† sinh v·∫≠t m·ªõi v√†o game m√† kh√¥ng c·∫ßn s·ª≠a ƒë·ªïi m√£ ngu·ªìn.

### C·∫•u tr√∫c c∆° b·∫£n c·ªßa m·ªôt G√≥i Mod

M·ªôt g√≥i mod (ModBundle) l√† m·ªôt ƒë·ªëi t∆∞·ª£ng JSON duy nh·∫•t ch·ª©a t·∫•t c·∫£ n·ªôi dung b·∫°n mu·ªën th√™m v√†o.

**V√≠ d·ª• c·∫•u tr√∫c `ModBundle` (D·∫°ng TypeScript ƒë·ªÉ tham kh·∫£o):**

```typescript
// file: my_awesome_mod.ts (ƒê·ªÉ ph√°t tri·ªÉn v·ªõi type-checking)
import type { ModBundle } from './src/lib/game/types'; // Import c√°c ƒë·ªãnh nghƒ©a

export const myMod: ModBundle = {
  id: "my_awesome_mod", // ID duy nh·∫•t cho mod c·ªßa b·∫°n
  items: {
    // ... ƒë·ªãnh nghƒ©a c√°c v·∫≠t ph·∫©m ·ªü ƒë√¢y
  },
  recipes: {
    // ... ƒë·ªãnh nghƒ©a c√°c c√¥ng th·ª©c ·ªü ƒë√¢y
  },
  enemies: {
    // ... ƒë·ªãnh nghƒ©a c√°c k·∫ª ƒë·ªãch ·ªü ƒë√¢y
  },
};
```

**C√°ch s·ª≠ d·ª•ng:**
1.  Vi·∫øt mod c·ªßa b·∫°n trong m·ªôt t·ªáp `.ts` (v√≠ d·ª•: `my_awesome_mod.ts`) ƒë·ªÉ t·∫≠n d·ª•ng type-checking.
2.  Sau khi ho√†n th√†nh, sao ch√©p ƒë·ªëi t∆∞·ª£ng JSON t·ª´ `myMod` (kh√¥ng bao g·ªìm `export const myMod =`).
3.  V√†o game, m·ªü **C√†i ƒë·∫∑t (Settings)** -> **Tab Mods**.
4.  D√°n m√£ JSON c·ªßa b·∫°n v√†o √¥ vƒÉn b·∫£n v√† nh·∫•n **"Apply Mods"**.

### 1. Th√™m V·∫≠t ph·∫©m m·ªõi (`items`)

M·ªói v·∫≠t ph·∫©m ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a l√† m·ªôt ƒë·ªëi t∆∞·ª£ng trong `items`.

**C·∫•u tr√∫c `ItemDefinition`:**

| Thu·ªôc t√≠nh         | Ki·ªÉu d·ªØ li·ªáu                                       | B·∫Øt bu·ªôc? | M√¥ t·∫£                                                                                              |
| ------------------ | -------------------------------------------------- | --------- | -------------------------------------------------------------------------------------------------- |
| `name`             | `{ en: string, vi: string }`                       | **C√≥**    | T√™n hi·ªÉn th·ªã ƒëa ng√¥n ng·ªØ c·ªßa v·∫≠t ph·∫©m.                                                              |
| `description`      | `{ en: string, vi: string }`                       | **C√≥**    | M√¥ t·∫£ ƒëa ng√¥n ng·ªØ.                                                                                  |
| `tier`             | `number`                                           | **C√≥**    | C·∫•p ƒë·ªô c·ªßa v·∫≠t ph·∫©m (1-6), ·∫£nh h∆∞·ªüng ƒë·∫øn ƒë·ªô hi·∫øm v√† s·ª©c m·∫°nh.                                         |
| `category`         | `string` (xem danh s√°ch b√™n d∆∞·ªõi)                  | **C√≥**    | Lo·∫°i v·∫≠t ph·∫©m.                                                                                     |
| `emoji`            | `string`                                           | **C√≥**    | M·ªôt emoji duy nh·∫•t ƒë·∫°i di·ªán cho v·∫≠t ph·∫©m.                                                            |
| `baseQuantity`     | `{ min: number, max: number }`                     | **C√≥**    | S·ªë l∆∞·ª£ng v·∫≠t ph·∫©m th∆∞·ªùng xu·∫•t hi·ªán khi ƒë∆∞·ª£c t·∫°o ra trong th·∫ø gi·ªõi.                                   |
| `effects`          | `Array` c·ªßa `ItemEffect`                           | **C√≥**    | M·∫£ng c√°c hi·ªáu ·ª©ng khi s·ª≠ d·ª•ng v·∫≠t ph·∫©m (c√≥ th·ªÉ l√† m·∫£ng r·ªóng `[]`).                                   |
| `equipmentSlot`    | `'weapon'`, `'armor'`, `'accessory'`               | Kh√¥ng     | N·∫øu l√† trang b·ªã, n√≥ thu·ªôc khe n√†o.                                                                  |
| `attributes`       | `PlayerAttributes`                                 | Kh√¥ng     | C√°c ch·ªâ s·ªë c·ªông th√™m khi trang b·ªã.                                                                  |
| `weight`           | `number`                                           | Kh√¥ng     | Tr·ªçng l∆∞·ª£ng c·ªßa v·∫≠t ph·∫©m. (Hi·ªán ch·ªâ ƒë·ªÉ tham kh·∫£o)                                                   |
| `stackable`        | `number`                                           | Kh√¥ng     | S·ªë l∆∞·ª£ng t·ªëi ƒëa trong m·ªôt √¥ ch·ª©a ƒë·ªì. (Hi·ªán ch·ªâ ƒë·ªÉ tham kh·∫£o)                                        |

**V√≠ d·ª•: Th√™m "ƒê√° Ma Thu·∫≠t"**

```json
{
  "my_magic_stone": {
    "name": { "en": "Magic Stone", "vi": "ƒê√° Ma Thu·∫≠t" },
    "description": { "en": "A stone humming with faint magical energy.", "vi": "M·ªôt vi√™n ƒë√° rung ƒë·ªông v·ªõi nƒÉng l∆∞·ª£ng ma thu·∫≠t y·∫øu." },
    "tier": 2,
    "category": "Magic",
    "emoji": "üíé",
    "effects": [{ "type": "RESTORE_MANA", "amount": 10 }],
    "baseQuantity": { "min": 1, "max": 3 }
  }
}
```

### 2. Th√™m C√¥ng th·ª©c m·ªõi (`recipes`)

M·ªói c√¥ng th·ª©c ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a l√† m·ªôt ƒë·ªëi t∆∞·ª£ng trong `recipes`.

**C·∫•u tr√∫c `Recipe`:**

| Thu·ªôc t√≠nh       | Ki·ªÉu d·ªØ li·ªáu                     | B·∫Øt bu·ªôc? | M√¥ t·∫£                                                               |
| ---------------- | -------------------------------- | --------- | ------------------------------------------------------------------- |
| `result`         | `{ itemId: string, quantity: number }` | **C√≥**    | ID v√† s·ªë l∆∞·ª£ng v·∫≠t ph·∫©m t·∫°o ra.                                      |
| `ingredients`    | `Array` c·ªßa `RecipeIngredient`     | **C√≥**    | Danh s√°ch c√°c nguy√™n li·ªáu c·∫ßn thi·∫øt (t·ª´ 1 ƒë·∫øn 5).                      |
| `description`    | `{ en: string, vi: string }`     | **C√≥**    | M√¥ t·∫£ ƒëa ng√¥n ng·ªØ v·ªÅ c√¥ng th·ª©c.                                      |
| `requiredTool`   | `string` (Item ID)               | Kh√¥ng     | ID c·ªßa c√¥ng c·ª• c·∫ßn c√≥ trong h√†nh trang ƒë·ªÉ th·ª±c hi·ªán c√¥ng th·ª©c.      |

**V√≠ d·ª•: C√¥ng th·ª©c ch·∫ø t·∫°o "ƒêu·ªëc"**

```json
{
  "torch": {
    "result": { "itemId": "torch", "quantity": 1 },
    "description": { "en": "A simple torch to light your way.", "vi": "M·ªôt ng·ªçn ƒëu·ªëc ƒë∆°n gi·∫£n ƒë·ªÉ soi s√°ng ƒë∆∞·ªùng ƒëi." },
    "ingredients": [
      { "itemId": "sturdyBranch", "quantity": 1 },
      { "itemId": "tornCloth", "quantity": 1 }
    ],
    "requiredTool": "flint"
  }
}
```
*L∆∞u √Ω: `itemId` ph·∫£i l√† ID duy nh·∫•t c·ªßa v·∫≠t ph·∫©m (v√≠ d·ª•: `healingHerb`, kh√¥ng ph·∫£i t√™n hi·ªÉn th·ªã "Healing Herb").*

### 3. Th√™m K·∫ª ƒë·ªãch m·ªõi (`enemies`)

K·∫ª ƒë·ªãch ƒë∆∞·ª£c th√™m v√†o m·ªôt khu v·ª±c (biome) c·ª• th·ªÉ.

**C·∫•u tr√∫c `EnemySpawn`:**

| Thu·ªôc t√≠nh   | Ki·ªÉu d·ªØ li·ªáu                 | B·∫Øt bu·ªôc? | M√¥ t·∫£                                                            |
| ------------ | ---------------------------- | --------- | ---------------------------------------------------------------- |
| `data`       | `object` (chi ti·∫øt k·∫ª ƒë·ªãch)  | **C√≥**    | Ch·ª©a c√°c th√¥ng tin nh∆∞ `type`, `hp`, `damage`, `loot`...            |
| `conditions` | `SpawnConditions`            | **C√≥**    | C√°c ƒëi·ªÅu ki·ªán ƒë·ªÉ k·∫ª ƒë·ªãch xu·∫•t hi·ªán (v√≠ d·ª•: `chance`, `timeOfDay`). |

**V√≠ d·ª•: Th√™m "Qu√°i v·∫≠t B√πn" v√†o ƒê·∫ßm l·∫ßy**

```json
{
  "swamp": [
    {
      "data": {
        "type": "Mud Monster",
        "emoji": "üßå",
        "hp": 60,
        "damage": 10,
        "behavior": "territorial",
        "size": "medium",
        "diet": ["Fish"],
        "satiation": 0,
        "maxSatiation": 2,
        "loot": [
          { "name": "MuddyWater", "chance": 0.5, "quantity": { "min": 1, "max": 2 } }
        ]
      },
      "conditions": {
        "chance": 0.2,
        "moisture": { "min": 8 }
      }
    }
  ]
}
```

---
H√£y s√°ng t·∫°o v√† l√†m cho th·∫ø gi·ªõi c·ªßa Dreamland Engine tr·ªü n√™n phong ph√∫ h∆°n